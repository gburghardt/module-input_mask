/*! input_mask_module 2014-04-11 */
var InputMask={disabled:!1,disable:function(a){a.setAttribute("data-mask-disabled","true")},disableAll:function(){this.disabled=!0},enable:function(a){a.removeAttribute("data-mask-disabled")},enableAll:function(){this.disabled=!1},getTemplateByElement:function(a){return InputMask.Template.getByElement(a)},register:function(a,b){return InputMask.Template.register(a,b)},setDefaultGrammar:function(a){InputMask.Template.defaultGrammar=a}};!function(a){function b(){}b.prototype={digits:/[0-9]/,chars:/[a-zA-Z]/,any:/[a-zA-Z0-9]/,anyOrPlaceholder:/[_a-zA-Z0-9]/,placeholder:"_",filler:/[^#A]/,charMarker:"A",digitMarker:"#",constructor:b,compile:function(a){var b,c,d=[],e=a.length;for(c=0;e>c;c++)b=a.charAt(c),d.push(b==this.digitMarker?this.digits:b==this.charMarker?this.chars:this.filler);return d}},a.Grammar=b}(InputMask),function(a){function b(a,b,c){this.grammar=a||null,b&&this.setMask(b),this.name=c||String(++d)}function c(a,b,c){"number"==typeof a&&this.setRange(a,b),void 0!==c&&(this.text=c)}var d=0,e={};b.defaultGrammar=a.Grammar?new a.Grammar:null,b.getByElement=function(a){var c=a.getAttribute("data-mask-name"),d=a.getAttribute("data-mask");if(c){if(e[c])return e[c];throw new Error("No instance of InputMask.Template found for name: "+c)}if(d)return e[d]||(e[d]=new b(b.defaultGrammar,d)),e[d];throw new Error("Missing one of data-mask or data-mask-name on "+a.nodeName)},b.register=function(a,c){if(e[a])throw new Error("A template named '"+a+"' has already been registered");return e[a]=new b(b.defaultGrammar,c,a),e[a]},b.prototype={DIRECTION_BACKWARDS:-1,DIRECTION_FORWARDS:1,emptyValue:null,grammar:null,mask:"",maskChars:null,name:null,constructor:b,addCharacter:function(a,b,d){var e=d.split(""),f=this.grammar.anyOrPlaceholder,g=this._nextCharIndex(a,this.DIRECTION_FORWARDS,f,e),h=g,i=e.length,j=new c(g,g,d);return 0>g?j.setRange(a):this._isValidCharAt(b,g)&&(e[g]=b,h=this._nextCharIndex(g+1,this.DIRECTION_FORWARDS,f,e),h>-1?(j.text=e.join(""),j.setRange(h)):g===i-1&&(j.text=e.join(""),j.setRange(i))),j},addCharacters:function(a,b,d){var e,f,g,h=0,i=d.split(""),j=this.grammar.anyOrPlaceholder;if(a>=i.length)f=new c(a,a,d);else{for(e=this._nextCharIndex(a,this.DIRECTION_FORWARDS,j,i),f=new c(e,e);g=b.charAt(h++);)this._isValidCharAt(g,e)&&(i[e]=g,e=this._nextCharIndex(e+1,this.DIRECTION_FORWARDS,j,i),f.setRange(e>-1?e:i.length));f.text=i.join("")}return f},getEmptyValue:function(){for(var a,b=0,c=[];a=this.mask.charAt(b++);)c.push(a===this.grammar.digitMarker||a===this.grammar.charMarker?this.grammar.placeholder:a);return c.join("")},getMaskedValue:function(a){return this.addCharacters(0,a,this.emptyValue).text},getPlaceholder:function(){return this.grammar.placeholder},isEmptyValue:function(a){var b=this.mask.replace(new RegExp(this.grammar.digitMarker,"g"),this.grammar.placeholder).replace(new RegExp(this.grammar.charMarker,"g"),this.grammar.placeholder);return b===a},_isValidCharAt:function(a,b){return 0>b||b>=this.maskChars.length?!1:this.maskChars[b].test(a)},_nextCharIndex:function(a,b,c,d){var e=-1,f=a,g=d.length;if(1===b){for(f;g>f;f++)if(c.test(d[f])){e=f;break}}else for(;f--;)if(c.test(d[f])){e=f;break}return e},removeNextChar:function(a,b){return this._removeChars(a,0,this.DIRECTION_FORWARDS,b)},removePrevChar:function(a,b){return this._removeChars(a,0,this.DIRECTION_BACKWARDS,b)},removeCharRange:function(a,b,c){return this._removeChars(a,b-a,this.DIRECTION_FORWARDS,c)},_removeChars:function(a,b,d,e){a=0>a?0:a,b=0>b?0:b,d=0>d?-1:1;var f=new c(a,a),g=e.split("");return 0===b?this._shiftCharacters(f,a,d,g):this._removeCharacterRange(f,a,b,g),f.text=g.join(""),f},_removeCharacterRange:function(a,b,c,d){var e=this._nextCharIndex(b,1,this.grammar.any,d),f=e,g=d.length,h=f+c>g?g:f+c,i=this.grammar.any;if(!(0>f||f>=g-1)){for(f;h>f;f++)i.test(d[f])&&(d[f]=this.grammar.placeholder);a.start=a.end=e}},_shiftCharacters:function(a,b,c,d){var e=1,f=this._nextCharIndex(b,c,this.grammar.any,d),g=f,h=this.maskChars[g],i=-1,j=d.length;if(!(0>g||g>=j)){for(g;j>g;g++)h.test(d[g])&&(i=-1===i?this._nextCharIndex(g+e,this.DIRECTION_FORWARDS,h,d):this._nextCharIndex(i+1,this.DIRECTION_FORWARDS,h,d),d[g]=i>-1&&j>i&&h.test(d[i])?d[i]:this.grammar.placeholder);a.start=a.end=f}},setMask:function(a){if(!this.grammar)throw new Error("Cannot set mask without a grammar object");this.mask=a,this.maskChars=this.grammar.compile(a),this.emptyValue=this.getEmptyValue()},test:function(a){var b,c=a.split(""),d=0,e=c.length,f=!0,g=this.maskChars.length;if(e!=g)f=!1;else for(d;e>d;d++)if(b=c[d],b!==this.grammar.placeholder&&(d>=g||!this.maskChars[d].test(b))){f=!1;break}return f}},c.prototype={end:0,length:0,start:0,text:null,constructor:c,setRange:function(a,b){void 0===b?this.start=this.end=a:(this.start=a,this.end=b),this.length=this.end-this.start}},a.Selection=c,a.Template=b}(InputMask),InputMask.Module=function(){this.options={},this.handleFocusIn=this.handleFocusIn.bind(this),this.handleFocusOut=this.handleFocusOut.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handlePaste=this.handlePaste.bind(this)},InputMask.Module.prototype={KEYCODE_BACKSPACE:8,KEYCODE_CONTROL:17,KEYCODE_DELETE:46,_controlKeyDown:!1,document:null,element:null,_filteredKeys:[9,13,35,36,37,38,39,40],options:null,window:null,constructor:InputMask.Module,init:function(a){return a&&this.setElement(a),this.element.addEventListener("focus",this.handleFocusIn,!0),this.element.addEventListener("blur",this.handleFocusOut,!0),this.element.addEventListener("keydown",this.handleKeyDown,!1),this.element.addEventListener("keypress",this.handleKeyPress,!1),this.element.addEventListener("keyup",this.handleKeyUp,!1),this.element.addEventListener("paste",this.handlePaste,!1),this},destructor:function(a){this.element&&(a||this.element.parentNode.removeChild(this.element),this.element.removeEventListener("focus",this.handleFocusIn,!0),this.element.removeEventListener("blur",this.handleFocusOut,!0),this.element.removeEventListener("keydown",this.handleKeyDown,!1),this.element.removeEventListener("keypress",this.handleKeyPress,!1),this.element.removeEventListener("keyup",this.handleKeyUp,!1),this.element.removeEventListener("paste",this.handlePaste,!1)),this.element=this.document=this.window=null},_getTemplate:function(a){return InputMask.getTemplateByElement(a)},handleFocusIn:function(a){a=a||window.event,this._isMaskable(a.target)&&this._showMask(a.target)},handleFocusOut:function(a){a=a||window.event,this._isMaskable(a.target)&&this._hideMask(a.target)},handleKeyDown:function(a){(a||window.event).keyCode===this.KEYCODE_CONTROL&&(this._controlKeyDown=!0)},handleKeyPress:function(a){if(a=a||window.event,!(!this._isMaskable(a.target)||this._filteredKeys.indexOf(a.keyCode)>-1||this._controlKeyDown)){a.preventDefault();var b=a.keyCode,c=a.charCode,d=a.target,e=d.selectionStart,f=d.selectionEnd,g=d.value,h=this._getTemplate(d),i=null;i=this.KEYCODE_BACKSPACE===b?e===f?h.removePrevChar(e,g):h.removeCharRange(e,f,g):this.KEYCODE_DELETE===b?e===f?h.removeNextChar(e,g):h.removeCharRange(e,f,g):h.addCharacter(e,String.fromCharCode(c),g),d.value=i.text,d.setSelectionRange(i.start,i.end)}},handleKeyUp:function(a){(a||window.event).keyCode===this.KEYCODE_CONTROL&&(this._controlKeyDown=!1)},handlePaste:function(a){if(a=a||window.event,this._isMaskable(a.target)){a.preventDefault();var b,c,d=a.clipboardData,e=a.target;d.types.contains("text/plain")&&(b=this._getTemplate(e),c=b.addCharacters(e.selectionStart,d.getData("text/plain"),e.value),e.value=c.text,e.setSelectionRange(c.start,c.end))}},_hideMask:function(a){this._getTemplate(a).isEmptyValue(a.value)&&(a.value="")},_isMaskable:function(a){return!a.getAttribute("data-mask")&&!a.getAttribute("data-mask-name")||a.getAttribute("data-mask-disabled")||InputMask.disabled?!1:!0},setElement:function(a){this.element="string"==typeof a?document.getElementById(a):a,this.document=this.element.ownerDocument,this.window=this.document.defaultView},setOptions:function(){},_showMask:function(a){var b=this._getTemplate(a),c=-1;a.value=b.getMaskedValue(a.value),c=a.value.indexOf(b.getPlaceholder()),c>-1&&setTimeout(function(){a.setSelectionRange(c,c)},10)}};